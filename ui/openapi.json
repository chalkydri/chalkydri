{"openapi":"3.1.0","info":{"title":"Chalkydri Manager API","description":"A blazingly fast FRC vision system","license":{"name":"AGPL-3.0","identifier":"AGPL-3.0"},"version":"0.1.0"},"paths":{"/api/calibrate/status":{"get":{"tags":[],"operationId":"calibration_status","responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CalibrationStatus"}}}}}}},"/api/calibrate/{cam_name}/intrinsics":{"get":{"tags":[],"summary":"Calibrate the given camera's intrinsic parameters","operationId":"calibration_intrinsics","parameters":[{"name":"cam_name","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":""}}}},"/api/calibrate/{cam_name}/step":{"get":{"tags":[],"summary":"Complete a calibration step for the given camera","operationId":"calibration_step","parameters":[{"name":"cam_name","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":""}}}},"/api/configuration":{"get":{"tags":[],"summary":"List possible configurations","operationId":"configuration","responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Config"}}}}}},"put":{"tags":[],"summary":"Save the configuration to disk","operationId":"save_configuration","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Config"}}},"required":true},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Config"}}}}}},"post":{"tags":[],"summary":"Set the configuration without saving it to the disk","operationId":"configure","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Config"}}},"required":true},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Config"}}}}}}},"/api/info":{"get":{"tags":[],"summary":"Get Chalkydri's version and system information","operationId":"info","responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Info"}}}}}}},"/api/restart":{"post":{"tags":[],"summary":"Restart Chalkydri","operationId":"restart","responses":{"200":{"description":""}}}},"/api/sys/reboot":{"post":{"tags":[],"summary":"Restart the system","operationId":"sys_reboot","responses":{"200":{"description":""}}}},"/api/sys/shutdown":{"post":{"tags":[],"summary":"Power off the system","operationId":"sys_shutdown","responses":{"200":{"description":""}}}}},"components":{"schemas":{"AprilTagFieldLayout":{"type":"object","required":["tags","field"],"properties":{"field":{"$ref":"#/components/schemas/Field"},"tags":{"type":"array","items":{"$ref":"#/components/schemas/LayoutTag"}}}},"CAprilTagsSubsys":{"type":"object","required":["max_frame_rate"],"properties":{"max_frame_rate":{"type":"integer","format":"int32","minimum":0}}},"CalibrationStatus":{"type":"object","required":["width","height","current_step","total_steps"],"properties":{"current_step":{"type":"integer","minimum":0},"height":{"type":"integer","format":"int32","minimum":0},"total_steps":{"type":"integer","minimum":0},"width":{"type":"integer","format":"int32","minimum":0}}},"Camera":{"type":"object","required":["id","name","subsystems","auto_exposure","orientation","cam_offsets"],"properties":{"auto_exposure":{"type":"boolean"},"calib":{},"cam_offsets":{"$ref":"#/components/schemas/CameraOffsets"},"id":{"type":"string"},"manual_exposure":{"type":["integer","null"],"format":"int32","minimum":0},"name":{"type":"string"},"orientation":{"$ref":"#/components/schemas/VideoOrientation"},"possible_settings":{"type":["array","null"],"items":{"$ref":"#/components/schemas/CameraSettings"}},"settings":{"oneOf":[{"type":"null"},{"$ref":"#/components/schemas/CameraSettings"}]},"subsystems":{"$ref":"#/components/schemas/CameraSubsystems"}}},"CameraOffsetDimensions":{"type":"object","required":["x","y","z"],"properties":{"x":{"type":"number","format":"double"},"y":{"type":"number","format":"double"},"z":{"type":"number","format":"double"}}},"CameraOffsets":{"type":"object","required":["translation","rotation"],"properties":{"rotation":{"$ref":"#/components/schemas/CameraOffsetDimensions"},"translation":{"$ref":"#/components/schemas/CameraOffsetDimensions"}}},"CameraSettings":{"type":"object","required":["width","height"],"properties":{"format":{"type":["string","null"]},"frame_rate":{"oneOf":[{"type":"null"},{"$ref":"#/components/schemas/CfgFraction"}]},"height":{"type":"integer","format":"int32","minimum":0},"width":{"type":"integer","format":"int32","minimum":0}}},"CameraSubsystems":{"type":"object","required":["custom"],"properties":{"capriltags":{"oneOf":[{"type":"null"},{"$ref":"#/components/schemas/CAprilTagsSubsys"}]},"custom":{"type":"array","items":{"type":"string"}},"mjpeg":{"oneOf":[{"type":"null"},{"$ref":"#/components/schemas/MjpegSubsys"}]},"ml":{"oneOf":[{"type":"null"},{"$ref":"#/components/schemas/MlSubsys"}]}}},"CfgFraction":{"type":"object","required":["num","den"],"properties":{"den":{"type":"integer","format":"int32","minimum":0},"num":{"type":"integer","format":"int32","minimum":0}}},"Config":{"type":"object","required":["team_number","custom_subsystems"],"properties":{"cameras":{"type":["array","null"],"items":{"$ref":"#/components/schemas/Camera"}},"custom_subsystems":{"type":"object","additionalProperties":{"$ref":"#/components/schemas/CustomSubsystem"},"propertyNames":{"type":"string"}},"device_name":{"type":["string","null"]},"field_layout":{"type":["string","null"]},"field_layouts":{"type":["object","null"],"additionalProperties":{"$ref":"#/components/schemas/AprilTagFieldLayout"},"propertyNames":{"type":"string"}},"ntables_ip":{"type":["string","null"]},"rerun":{"oneOf":[{"type":"null"},{"$ref":"#/components/schemas/Rerun"}]},"team_number":{"type":"integer","format":"int32","minimum":0}}},"CustomSubsystem":{"type":"object","required":["code"],"properties":{"code":{"type":"string"}}},"Field":{"type":"object","required":["length","width"],"properties":{"length":{"type":"number","format":"double"},"width":{"type":"number","format":"double"}}},"Info":{"type":"object","required":["version","cpu_usage","mem_usage","new_cams"],"properties":{"cpu_usage":{"type":"integer","format":"int32","minimum":0},"mem_usage":{"type":"integer","format":"int32","minimum":0},"new_cams":{"type":"array","items":{"$ref":"#/components/schemas/Camera"}},"version":{"type":"string"}}},"LayoutPose":{"type":"object","required":["translation","rotation"],"properties":{"rotation":{"$ref":"#/components/schemas/LayoutRotation"},"translation":{"$ref":"#/components/schemas/LayoutTranslation"}}},"LayoutQuaternion":{"type":"object","required":["W","X","Y","Z"],"properties":{"W":{"type":"number","format":"double"},"X":{"type":"number","format":"double"},"Y":{"type":"number","format":"double"},"Z":{"type":"number","format":"double"}}},"LayoutRotation":{"type":"object","required":["quaternion"],"properties":{"quaternion":{"$ref":"#/components/schemas/LayoutQuaternion"}}},"LayoutTag":{"type":"object","required":["ID","pose"],"properties":{"ID":{"type":"integer","format":"int64"},"pose":{"$ref":"#/components/schemas/LayoutPose"}}},"LayoutTranslation":{"type":"object","required":["x","y","z"],"properties":{"x":{"type":"number","format":"double"},"y":{"type":"number","format":"double"},"z":{"type":"number","format":"double"}}},"MjpegSubsys":{"type":"object","required":["width","height"],"properties":{"height":{"type":"integer","format":"int32","minimum":0},"width":{"type":"integer","format":"int32","minimum":0}}},"MlSubsys":{"type":"object"},"Rerun":{"type":"object","properties":{"server_address":{"type":["string","null"]}}},"VideoOrientation":{"type":"string","enum":["none","clockwise","rotate-180","counterclockwise"]}}}}